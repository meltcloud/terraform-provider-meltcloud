---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "meltcloud_machine_pool Resource - meltcloud"
subcategory: ""
description: |-
  A Machine Pool https://meltcloud.io/docs/guides/machine-pools/create.html is a grouping entity for Machines (Kubernetes workers) which share a set of common configuration such as Kubelet version, disk or network configuration.
  ~> Be aware that changing the version or the primary_disk_device will cause a new Revision that will be applied immediately, causing a reboot of all Machines https://meltcloud.io/docs/guides/machine-pools/upgrade.html#revisions.
---

# meltcloud_machine_pool (Resource)

A [Machine Pool](https://meltcloud.io/docs/guides/machine-pools/create.html) is a grouping entity for Machines (Kubernetes workers) which share a set of common configuration such as Kubelet version, disk or network configuration.

~> Be aware that changing the version or the primary_disk_device will cause a new [Revision that will be applied immediately, causing a reboot of all Machines](https://meltcloud.io/docs/guides/machine-pools/upgrade.html#revisions).

## Example Usage

```terraform
# create cluster
resource "meltcloud_cluster" "example" {
  name           = "melt02"
  version        = "1.30"
  pod_cidr       = "10.36.0.0/16"
  service_cidr   = "10.96.0.0/16"
  dns_service_ip = "10.96.0.10"
}

# create a machine pool
resource "meltcloud_machine_pool" "example" {
  cluster_id = meltcloud_cluster.example.id

  name                = "pool1"
  version             = "1.29"
  primary_disk_device = "/dev/vda"

  network_configuration {
    type       = "bond"
    interfaces = "eth*"
    vlan_mode  = "trunk"
    vlans      = "100,200"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_id` (Number) ID of the associated cluster
- `name` (String) Name of the machine pool
- `primary_disk_device` (String) Name of the primary disk of the machine, i.e. /dev/vda
- `version` (String) Kubernetes minor version of the machine pool (Kubelet)

### Optional

- `network_configuration` (Block List) (see [below for nested schema](#nestedblock--network_configuration))

### Read-Only

- `id` (Number) Internal ID of the Machine Pool on meltcloud
- `patch_version` (String) Kubernetes patch version of the machine pool (Kubelet)

<a id="nestedblock--network_configuration"></a>
### Nested Schema for `network_configuration`

Required:

- `interfaces` (String) Interface name (for network type native), wildcard or comma-separated list of interfaces (for network type bond)
- `type` (String) The network type - must be 'native' or 'bond'
- `vlan_mode` (String) The VLAN mode - must be 'default' or 'trunk'

Optional:

- `vlans` (String) Comma-separated list of VLAN-IDs (required for VLAN mode trunk)

## Import

Import is supported using the following syntax:

```shell
# Resource can be imported by using the resource path as displayed in the URL
terraform import meltcloud_machine_pool.example clusters/1/machine_pools/2
```
